<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TÃ¼rkiyeâ€™den KÄ±brÄ±sâ€™a Teslimat</title>
    <style>
        body {
            font-family: 'Segoe UI', Arial, sans-serif;
            margin: 0;
            padding: 0;
            background: #f4f8fb;
        }
        .header {
            position: relative;
            width: 100%;
            height: 260px;
            background: #1e2e4a;
            overflow: hidden;
        }
        .header img {
            width: 100%;
            height: 260px;
            object-fit: cover;
            opacity: 0.75;
        }
        .header-content {
            position: absolute;
            top: 40%;
            left: 50%;
            transform: translate(-50%, -50%);
            color: #fff;
            text-align: center;
            width: 100%;
        }
        .header-content h1 {
            font-size: 2.3rem;
            margin: 0 0 10px 0;
            font-weight: 700;
            text-shadow: 0 2px 8px #0003;
        }
        .header-content p {
            font-size: 1.1rem;
            font-weight: 400;
            text-shadow: 0 2px 8px #0003;
        }
        .top-right {
            position: absolute;
            top: 16px;
            right: 26px;
        }
        .top-right button, .top-right span {
            margin-left: 8px;
            background-color: #fff;
            color: #1e2e4a;
            border: none;
            padding: 8px 16px;
            font-size: 1rem;
            border-radius: 18px;
            cursor: pointer;
            font-weight: 500;
            transition: background 0.2s;
        }
        .top-right button:hover {
            background-color: #e9f0fa;
        }
        .main-buttons {
            margin: 36px auto 0 auto;
            display: flex;
            justify-content: center;
            gap: 32px;
            flex-wrap: wrap;
            width: 90%;
            max-width: 700px;
        }
        .main-buttons button {
            flex: 1 1 200px;
            min-width: 170px;
            background: #1e2e4a;
            color: #fff;
            border: none;
            padding: 18px 10px;
            font-size: 1.1rem;
            border-radius: 10px;
            margin: 8px 0;
            cursor: pointer;
            font-weight: 600;
            box-shadow: 0 2px 8px #0001;
            transition: background 0.15s, transform 0.1s;
        }
        .main-buttons button:hover {
            background: #254271;
            transform: translateY(-2px) scale(1.02);
        }
        /* Hesaplama ModÃ¼lÃ¼ */
        .calculator-box {
            background: #fff;
            border-radius: 16px;
            box-shadow: 0 2px 16px #0001;
            max-width: 420px;
            margin: 48px auto 32px auto;
            padding: 32px 22px 28px 22px;
        }
        .calculator-box h2 {
            text-align: center;
            margin-bottom: 16px;
            font-size: 1.2rem;
            color: #28426b;
            font-weight: 700;
        }
        .form-group {
            margin-bottom: 18px;
        }
        .form-group label {
            display: block;
            margin-bottom: 6px;
            color: #28426b;
            font-weight: 500;
        }
        .form-group input, .form-group select {
            width: 100%;
            padding: 10px 8px;
            font-size: 1rem;
            border: 1px solid #d3dce6;
            border-radius: 8px;
            background: #f8fafc;
            margin-bottom: 2px;
        }
        .form-group select:disabled {
            background: #e9e9e9;
        }
        .city-select {
            display: none;
        }
        .calculate-btn {
            width: 100%;
            background: #1e2e4a;
            color: #fff;
            border: none;
            border-radius: 10px;
            font-size: 1.08rem;
            font-weight: 600;
            padding: 12px;
            margin-top: 10px;
            cursor: pointer;
            transition: background 0.12s;
        }
        .calculate-btn:hover {
            background: #254271;
        }
        .result {
            margin-top: 18px;
            text-align: center;
            font-size: 1.18rem;
            color: #2b6b2f;
            font-weight: 600;
        }
        @media (max-width: 700px) {
            .main-buttons { flex-direction: column; gap: 20px; }
            .calculator-box { max-width: 98vw; padding: 18px 6vw; }
            .header-content h1 { font-size: 1.2rem; }
        }
    </style>
</head>
<body>
    <!-- HEADER -->
    <div class="header">
        <img src="https://images.unsplash.com/photo-1506744038136-46273834b3fb?auto=format&fit=crop&w=1500&q=80" alt="Gemi GÃ¶rseli">
        <div class="header-content">
            <h1>TÃ¼rkiyeâ€™den KÄ±brÄ±sâ€™a Teslimat</h1>
            <p>HÄ±zlÄ± ve GÃ¼venilir Kargo Hizmeti</p>
        </div>
        <div class="top-right" id="authArea">
            <!-- Auth buttons or user name will be injected by JS -->
        </div>
    </div>
    <!-- Ana Navigasyon ButonlarÄ± -->
    <div class="main-buttons">
        <button onclick="goPage('siparisver.html')">SipariÅŸ Ver</button>
        <button onclick="goPage('siparislerim.html')">SipariÅŸlerim</button>
        <button onclick="goPage('kargotakip.html')">Kargo Takip</button>
    </div>
    <!-- Hesaplama ModÃ¼lÃ¼ -->
    <div class="calculator-box">
        <h2>Hizmet Bedeli Hesaplama</h2>
        <div class="form-group">
            <label for="urunLink">ÃœrÃ¼n Linki</label>
            <input type="url" id="urunLink" placeholder="https://www.trendyol.com/Ã¼rÃ¼n-x" autocomplete="off">
        </div>
        <div class="form-group">
            <label for="trFiyat">TÃ¼rkiye FiyatÄ± (â‚º)</label>
            <input type="number" min="0" id="trFiyat" placeholder="Ã–r: 2000" autocomplete="off">
        </div>
        <div class="form-group">
            <label for="kategori">Kategori</label>
            <select id="kategori">
                <option value="">SeÃ§iniz</option>
                <option value="mobilya">Mobilya</option>
                <option value="elektronik">Elektronik</option>
                <option value="giyim">Giyim</option>
                <option value="kozmetik">Kozmetik</option>
            </select>
        </div>
        <div class="form-group">
            <label for="teslimatTipi">Teslimat Tipi</label>
            <select id="teslimatTipi">
                <option value="">SeÃ§iniz</option>
                <option value="depodan">Depodan Teslim</option>
                <option value="eve">Eve Teslim</option>
            </select>
        </div>
        <div class="form-group city-select" id="cityGroup">
            <label for="city">BÃ¶lge</label>
            <select id="city">
                <option value="">Åžehir SeÃ§in</option>
                <option value="lefkosa">LefkoÅŸa (200â‚º)</option>
                <option value="girne">Girne (350â‚º)</option>
                <option value="guzelyurt">GÃ¼zelyurt (300â‚º)</option>
                <option value="lefke">Lefke (450â‚º)</option>
                <option value="magusa">MaÄŸusa (500â‚º)</option>
                <option value="iskele">Ä°skele (550â‚º)</option>
                <option value="karpaz">Karpaz (650â‚º)</option>
            </select>
        </div>
        <button class="calculate-btn" onclick="calculateFee()">Ãœcreti Hesapla</button>
        <div class="result" id="calcResult"></div>
    </div>
    <script>
        // Auth Area - GiriÅŸ, KayÄ±t veya KullanÄ±cÄ± adÄ±
        function updateAuthArea() {
            const authArea = document.getElementById('authArea');
            const userName = localStorage.getItem('userName');
            authArea.innerHTML = '';
            if (userName) {
                authArea.innerHTML = `<span>ðŸ‘¤ ${userName}</span>`;
            } else {
                authArea.innerHTML = `
                    <button onclick="window.location.href='girisyap.html'">GiriÅŸ Yap</button>
                    <button onclick="window.location.href='kayitol.html'">KayÄ±t Ol</button>
                `;
            }
        }
        updateAuthArea();

        // Navigasyon ButonlarÄ±
        function goPage(page) {
            const userName = localStorage.getItem('userName');
            if (!userName) {
                alert("LÃ¼tfen giriÅŸ yapÄ±n veya kayÄ±t olun.");
                return false;
            }
            window.location.href = page;
        }

        // Teslimat tipi deÄŸiÅŸirse ÅŸehir seÃ§imini gÃ¶ster/gizle
        document.getElementById('teslimatTipi').addEventListener('change', function() {
            const val = this.value;
            const cityGroup = document.getElementById('cityGroup');
            cityGroup.style.display = (val === 'eve') ? 'block' : 'none';
        });

        // Hesaplama fonksiyonu
        function calculateFee() {
            const trFiyat = parseFloat(document.getElementById('trFiyat').value.replace(',', '.'));
            const kategori = document.getElementById('kategori').value;
            const teslimatTipi = document.getElementById('teslimatTipi').value;
            const city = document.getElementById('city').value;
            let total = 0;
            if (isNaN(trFiyat) || trFiyat <= 0) {
                showResult('LÃ¼tfen geÃ§erli bir TÃ¼rkiye fiyatÄ± girin.', true);
                return;
            }
            if (!kategori) {
                showResult('LÃ¼tfen kategori seÃ§in.', true);
                return;
            }
            if (!teslimatTipi) {
                showResult('LÃ¼tfen teslimat tipini seÃ§in.', true);
                return;
            }

            // Kategori bazlÄ± hizmet bedeli
            if (kategori === 'mobilya') {
                total = trFiyat + 70;
            } else if (kategori === 'elektronik') {
                total = trFiyat * 1.7;
            } else if (kategori === 'giyim') {
                total = trFiyat * 1.5;
            } else if (kategori === 'kozmetik') {
                total = trFiyat * 1.7;
            }

            // Teslimat tipi ve ÅŸehir ek Ã¼creti
            if (teslimatTipi === 'eve') {
                let cityFee = 0;
                switch (city) {
                    case "lefkosa": cityFee = 200; break;
                    case "girne": cityFee = 350; break;
                    case "guzelyurt": cityFee = 300; break;
                    case "lefke": cityFee = 450; break;
                    case "magusa": cityFee = 500; break;
                    case "iskele": cityFee = 550; break;
                    case "karpaz": cityFee = 650; break;
                    default:
                        showResult('LÃ¼tfen ÅŸehir seÃ§in.', true);
                        return;
                }
                total += cityFee;
            }

            showResult("Tahmini Toplam Ãœcret: â‚º" + total.toLocaleString("tr-TR", {minimumFractionDigits: 2, maximumFractionDigits: 2}));
        }

        function showResult(msg, isError) {
            const el = document.getElementById('calcResult');
            el.textContent = msg;
            el.style.color = isError ? '#c0392b' : '#2b6b2f';
        }
    </script>
</body>
</html>
